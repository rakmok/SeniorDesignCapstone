CREATE TABLE users (userID INT UNSIGNED AUTO_INCREMENT PRIMARY KEY NOT NULL, username VARCHAR(32) UNIQUE NOT NULL, passwordhash VARCHAR(64) NOT NULL);
CREATE TABLE pets (petID INT UNSIGNED AUTO_INCREMENT PRIMARY KEY NOT NULL, userID INT UNSIGNED NOT NULL, rfID BIGINT NOT NULL, FOREIGN KEY (userID) REFERENCES users(userID) ON DELETE CASCADE);
CREATE TABLE feeding_times (feedingID INT UNSIGNED AUTO_INCREMENT PRIMARY KEY NOT NULL, petID INT UNSIGNED NOT NULL, feeding_time TIME NOT NULL, amount INT UNSIGNED NOT NULL, FOREIGN KEY (petID) REFERENCES pets(petID) ON DELETE CASCADE);
CREATE TABLE petfood_weight ( petfoodID INT UNSIGNED AUTO_INCREMENT PRIMARY KEY NOT NULL, feedingID INT UNSIGNED NOT NULL, total_weight FLOAT NOT NULL, FOREIGN KEY (feedingID) REFERENCES feeding_times(feedingID) ON DELETE CASCADE);
CREATE TABLE history (historyID INT UNSIGNED AUTO_INCREMENT PRIMARY KEY NOT NULL, petID INT UNSIGNED NOT NULL, status_update VARCHAR(64) NOT NULL, event_time DATETIME DEFAULT CURRENT_TIMESTAMP, FOREIGN KEY (petID) REFERENCES pets(petID) ON DELETE CASCADE);
